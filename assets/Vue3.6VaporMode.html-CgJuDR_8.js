import{_ as n,c as a,a as e,o as p}from"./app-Crz_P5Al.js";const t={};function l(o,s){return p(),a("div",null,s[0]||(s[0]=[e(`<h2 id="vapor-mode" tabindex="-1"><a class="header-anchor" href="#vapor-mode"><span>Vapor Mode</span></a></h2><blockquote><p>Vue 3.6 alpha 正式发布，官方口号只有一个：干掉虚拟 DOM！</p></blockquote><p>一句话：更快、更小、更省内存，而且不改一行业务代码！</p><h3 id="_1-新应用-——-零虚拟-dom" tabindex="-1"><a class="header-anchor" href="#_1-新应用-——-零虚拟-dom"><span>1. 新应用 —— 零虚拟 DOM</span></a></h3><p>npm create vue@latest --template vapor</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">npm create vue@latest <span class="token operator">--</span>template vapor</span>
<span class="line"></span>
<span class="line"><span class="token comment">// main.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createVaporApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">createVaporApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>老项目迁移 =&gt; 0心智负担</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">npm create vue@latest <span class="token operator">--</span>template vapor</span>
<span class="line"></span>
<span class="line"><span class="token comment">// main.ts</span></span>
<span class="line"><span class="token comment">// main.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp<span class="token punctuation">,</span> vaporInteropPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>vaporInteropPlugin<span class="token punctuation">)</span> <span class="token comment">// 让 Vapor 与 VDOM 共存</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 只有加 vapor 的组件走新管线 <span class="token operator">--</span><span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span>script setup vapor<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment">// 原来的代码零改动</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-底层原理" tabindex="-1"><a class="header-anchor" href="#_2-底层原理"><span>2. 底层原理</span></a></h3><ol><li>编译期静态分析：把模板拆成「静态 DOM 片段 + 动态节点数组」。</li><li>响应式追踪：每个动态节点绑定最小粒度 effect，只更新变动节点。</li><li>无虚拟节点：运行时不再生成 VNode、不再 diff，直接操作原生 DOM。</li></ol><h3 id="_3-demo" tabindex="-1"><a class="header-anchor" href="#_3-demo"><span>3. Demo</span></a></h3><h4 id="_1-视频播放器-——-沉浸式全屏" tabindex="-1"><a class="header-anchor" href="#_1-视频播放器-——-沉浸式全屏"><span>1. 视频播放器 —— 沉浸式全屏</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token operator">&lt;</span>script setup vapor<span class="token operator">&gt;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"><span class="token keyword">const</span> isFullscreen <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  isFullscreen<span class="token punctuation">.</span>value</span>
<span class="line">    <span class="token operator">?</span> <span class="token keyword">await</span> document<span class="token punctuation">.</span><span class="token function">exitFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token operator">:</span> <span class="token keyword">await</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">requestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  isFullscreen<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isFullscreen<span class="token punctuation">.</span>value</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>video controls @dblclick<span class="token operator">=</span><span class="token string">&quot;toggle&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>source src<span class="token operator">=</span><span class="token string">&quot;demo.mp4&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span><span class="token operator">/</span>video<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13)]))}const c=n(t,[["render",l],["__file","Vue3.6VaporMode.html.vue"]]),r=JSON.parse('{"path":"/blogs/Vue/2025/Vue3.6VaporMode.html","title":"Vue3.6 Vapor Mode","lang":"en-US","frontmatter":{"title":"Vue3.6 Vapor Mode","date":"2025/9/15","tags":["Vue3.6"],"categories":["Vue"]},"headers":[{"level":2,"title":"Vapor Mode","slug":"vapor-mode","link":"#vapor-mode","children":[{"level":3,"title":"1. 新应用 —— 零虚拟 DOM","slug":"_1-新应用-——-零虚拟-dom","link":"#_1-新应用-——-零虚拟-dom","children":[]},{"level":3,"title":"2. 底层原理","slug":"_2-底层原理","link":"#_2-底层原理","children":[]},{"level":3,"title":"3. Demo","slug":"_3-demo","link":"#_3-demo","children":[]}]}],"git":{"createdTime":1757911645000,"updatedTime":1757911645000,"contributors":[{"name":"D_quieT","email":"1360577536@qq.com","commits":1}]},"filePathRelative":"blogs/Vue/2025/Vue3.6VaporMode.md"}');export{c as comp,r as data};
